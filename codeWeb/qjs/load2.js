// var productArray = [
//     {
//         productId: 1,
//         name: 'Vầng Trăng Máu',
//         category: 'vanhoc',
//         description: ``,
//         images: [
//             'images/vangtrangmau.jpg',
//             'images/giao_khoa_toan_12_page1.jpg',
//             'images/giao_khoa_toan_12_page2.jpg'
//         ],
//         author: 'David Grann',
//         price: '120.000',
//         soluong: 10
//     },
//     {
//         productId: 2,
//         name: 'Đám Trẻ Ở Đại Dương Đen',
//         category: 'vanhoc',
//         description: '',
//         images: [
//             'images/damtreodaiduong.jpg',
//             'images/kinh_doanh_thanh_cong_page1.jpg',
//             'images/kinh_doanh_thanh_cong_page2.jpg'
//         ],
//         author: 'Châu Sa Đáy Mắt',
//         price: '69.300',
//         soluong: 10
//     },
//     {
//         productId: 3,
//         name: 'Có Một Ngày, Bố Mẹ Sẽ Già Đi',
//         category: 'vanhoc',
//         description: '',
//         images: [
//             'images/co-mot-ngay-bo-me-se-gia-di.jpg',
//             'images/lich_su_the_gioi_page1.jpg',
//             'images/lich_su_the_gioi_page2.jpg'
//         ],
//         author: 'Nhiều Tác Giả',
//         price: '81.600',
//         soluong: 10
//     },
//     {
//         productId: 4,
//         name: 'Sự Im Lặng Của Bầy Cừu (Tái Bản 2019)',
//         category: 'vanhoc',
//         description: '',
//         images: [
//             'images/su_im_lang_cua_bay_cuu.jpg',
//             'images/tam_ly_hoc_co_ban_page1.jpg',
//             'images/tam_ly_hoc_co_ban_page2.jpg'
//         ],
//         author: 'Thomas Harris',
//         price: '92.000',
//         soluong: 10
//     },
//     {
//         productId: 5,
//         name: 'Thời Kế Quán',
//         category: 'vanhoc',
//         description: '',
//         images: [
//             'images/thoikequan.jpg',
//             'images/quan_tri_tam_ly_tinh_yeu_page1.jpg',
//             'images/quan_tri_tam_ly_tinh_yeu_page2.jpg'
//         ],
//         author: 'Yukito Ayatsuji',
//         price: '143.650',
//         soluong: 10
//     },
//     {
//         productId: 6,
//         name: 'Án Mạng Mười Một Chữ',
//         category: 'vanhoc',
//         description: '',
//         images: [
//             'images/anmangmuoimotchu.jpg',
//             'images/lich_su_de_che_la_ma_page1.jpg',
//             'images/lich_su_de_che_la_ma_page2.jpg'
//         ],
//         author: 'Higashino Keigo',
//         price: '93.500',
//         soluong: 10
//     }, {
//         productId: 7,
//         name: 'Đất Rừng Phương Nam - Phiên Bản Điện Ảnh',
//         category: 'vanhoc',
//         description: '',
//         images: [
//             'images/dat-rung-phuong-nam_ban-dien-anh_bia.jpg',
//             'images/lich_su_trieu_dai_trung_hoa_page1.jpg',
//             'images/lich_su_trieu_dai_trung_hoa_page2.jpg'
//         ],
//         author: 'Đoàn Giỏi',
//         price: '126.000',
//         soluong: 10
//     },
//     {
//         productId: 8,
//         name: 'Thần Thoại Hy Lạp - Bìa Cứng (Tái Bản 2023)',
//         category: 'vanhoc',
//         description: '',
//         images: [
//             'images/than_thoai_hy_lap.jpg',
//             'images/lich_su_cach_mang_phap_page1.jpg',
//             'images/lich_su_cach_mang_phap_page2.jpg'
//         ],
//         author: 'Nguyễn Văn Khỏa',
//         price: '265.500',
//         soluong: 10
//     },
//     {
//         productId: 9,
//         name: 'Nghĩ Giàu & Làm Giàu (Tái Bản 2020)',
//         category: 'kinhte',
//         description:
//             `Think and Grow Rich - Nghĩ giàu và làm giàu là cuốn sách đầu tiên đưa ra triết lý thành đạt - một triết lý đầy đủ và toàn diện về thành công của cá nhân, đồng thời cung cấp cho bạn phương pháp để tạo một ý thức thành công cũng như đưa ra kế hoạch sơ bộ và chi tiết để đạt được thành công đó. Các bí quyết thành công được đề cập đến trong cuốn sách này có thể được đúc kết ngắn gọn: tất cả bắt nguồn từ cách nghĩ.`,
//         images: [
//             'images/nghigiaulamgiau_110k-01_bia-1.jpg',
//             'images/naruto_cuoc_hanh_trinh_page1.jpg',
//             'images/naruto_cuoc_hanh_trinh_page2.jpg'
//         ],
//         author: 'Napoleon Hill',
//         price: '88.000',
//         soluong: 10
//     },
//     {
//         productId: 10,
//         name: 'AI Chứ Không Phải Thế Nào?',
//         category: 'kinhte',
//         description:
//             `Cuốn sách này sẽ dạy bạn cách thực hiện sự thay đổi mô hình thiết yếu này để bạn có thể:

//         - Xây dựng 1 doanh nghiệp thành công một cách hiệu quả trong khi không giết chết chính mình
        
//         - Không bao giờ bị giới hạn mục tiêu và tham vọng của bạn một lần nữa
        
//         - Mở rộng sự giàu có , đổi mới , các mối quan hệ và niềm vui của bạn`,
//         images: [
//             'images/ai_chu_khong_phai_the_nao.jpg',
//             'images/my_hero_academia_hoc_vien_sieu_anh_hung_page1.jpg',
//             'images/my_hero_academia_hoc_vien_sieu_anh_hung_page2.jpg'
//         ],
//         author: 'Dan Sullivan',
//         price: '227.800',
//         soluong: 10
//     },
//     {
//         productId: 11,
//         name: 'Giải Mã Hành Vi - DISC: Bạn Thuộc Kiểu Lãnh Đạo Nào Trong 8 Nhóm Hành Vi? (Tái Bản 2023)',
//         category: 'kinhte',
//         description:
//             `DISC giúp thấu hiểu bản thân, thấu hiểu con người, thấu hiểu người khác, từ đó hiểu rõ bản thân hơn, phân loại được tính cách con người, nâng cao khả năng lãnh đạo, bán hàng thành công, dạy bán hàng thành công cho người khác. Cuốn sách Giải Mã Hành Vi DISC: Bạn Thuộc Kiểu Lãnh Đạo Nào Trong 8 Nhóm Hành Vi chính là chìa khóa để bạn hiểu rõ hơn về con người mình.`,
//         images: [
//             'images/giai-ma-hanh-vi-disc.jpg',
//             'images/naruto_cuoc_hanh_trinh_page1.jpg',
//             'images/naruto_cuoc_hanh_trinh_page2.jpg'
//         ],
//         author: 'Jeffrey Sugerman',
//         price: '99.160',
//         soluong: 10

//     },
//     {
//         productId: 12,
//         name: 'Kiếm Tiền Với Chat GPT',
//         category: 'kinhte',
//         description:
//             `Thời điểm mà ở ngoài kia nhiều người vẫn còn đang mù mờ về ChatGPT và còn đang loay hoay chưa biết tạo tài khoản thế nào thì bạn đã có cơ hội tìm hiểu thật kỹ về nó, việc đang cầm trên tay cuốn sách này chính là minh chứng cho việc bạn đã nắm rõ và cờ đã đến tay bạn, phất hay không là do bạn thôi.`,
//         images: [
//             'images/kiem_tien_voi_chatGPT.jpg',
//             'images/naruto_cuoc_hanh_trinh_page1.jpg',
//             'images/naruto_cuoc_hanh_trinh_page2.jpg'
//         ],
//         author: 'Henry Mentor',
//         price: '108.000',
//         soluong: 10
//     },
//     {
//         productId: 13,
//         name: 'Thay Đổi Cuộc Sống Với Nhân Số Học',
//         category: 'tamlykynangsong',
//         description:
//             `Cuốn sách Thay đổi cuộc sống với Nhân số học là tác phẩm được chị Lê Đỗ Quỳnh Hương phát triển từ tác phẩm gốc “The Complete Book of Numerology” của tiến sỹ David A. Phillips, khiến bộ môn Nhân số học khởi nguồn từ nhà toán học Pythagoras trở nên gần gũi, dễ hiểu hơn với độc giả Việt Nam.
//         Cuốn sách “Thay đổi cuộc sống với Nhân số học”mang lại đầy đủ những kiến thức quan trọng nhất mà người hứng thú với Nhân số học cần tìm hiểu. Sách bao gồm các kiến thức về ba thể trong một con người, con số chủ đạo, biểu đồ ngày sinh, các mũi tên chỉ đặc điểm, con số ngày sinh, chu kỳ 9 năm, ba giai đoạn và bốn đỉnh cao của đời người cùng ý nghĩa, sức mạnh của cái tên của mỗi người. Các kiến thức này được diễn giải, phân tích và đi kèm các ví dụ cụ thể.`,
//         images: [
//             'images/tdcsvnsh.jpg',
//             'images/naruto_cuoc_hanh_trinh_page1.jpg',
//             'images/naruto_cuoc_hanh_trinh_page2.jpg'
//         ],
//         author: 'Lê Đỗ Quỳnh Hương',
//         price: '173.600',
//         soluong: 10
//     },
//     {
//         productId: 14,
//         name: 'Đắc Nhân Tâm (Tái Bản 2021)',
//         category: 'tamlykynangsong',
//         description:
//             `Nhờ có tầm hiểu biết rộng rãi và khả năng 'ứng xử một cách nghệ thuật trong giao  tiếp' - Dale Carnegie đã viết ra một quyển sách với góc nhìn độc đáo và mới mẻ trong giao tiếp hàng ngày một cách vô cùng thú vị – Thông qua những mẫu truyện rời rạc nhưng lại đầy lý lẽ thuyết phục. Từ đó tìm ra những kinh nghiệm để đúc kết ra những nguyên tắc vô cùng ‘ngược ngạo’, nhưng cũng rất logic dưới cái nhìn vừa sâu sắc, vừa thực tế.
//         Hơn thế nữa, Đắc Nhân Tâm còn đưa ra những nghịch lý mà từ lâu con người ta đã hiểu lầm về phương hướng giao tiếp trong mạng lưới xã hội, thì ra, người giao tiếp thông minh không phải là người có thể phát biểu ra những lời hay nhất, mà là những người học được cách mỉm cười, luôn biết cách lắng nghe, và khích lệ câu chuyện của người khác.`,
//         images: [
//             'images/dntttttuntitled.jpg',
//             'images/naruto_cuoc_hanh_trinh_page1.jpg',
//             'images/naruto_cuoc_hanh_trinh_page2.jpg'
//         ],
//         author: 'Dale Carnegie',
//         price: '60.200',
//         soluong: 10
//     },
//     {
//         productId: 15,
//         name: 'Nóng Giận Là Bản Năng, Tĩnh Lặng Là Bản Lĩnh (Tái Bản 2020)',
//         category: 'tamlykynangsong',
//         description:
//             `“Nóng giận là bản năng, tĩnh lặng là bản lĩnh” là từ bỏ “tam độc”, tu dưỡng một trái tim trong sáng:

//         - Từ bỏ “tham” – bớt một phần ham muốn, thêm một phần tự do.
        
//         - Từ bỏ “sân” – bớt một phần tranh chấp, thêm một phần ung dung.
        
//         - Từ bỏ “si” – bớt một phần mê muội, thêm một phần tĩnh tâm.
        
//         Cuốn sách là tập hợp những bài học, lời tâm sự về nhân sinh, luận về cuộc đời của đại sư Hoằng Nhất – vị tài tử buông mọi trần tục để quy y cửa Phật, người được mệnh danh tinh thông kim cổ và cũng có tầm ảnh hưởng lớn trong Phật giáo.`,
//         images: [
//             'images/nong-gian-la-ban-nang-1_1.jpg',
//             'images/naruto_cuoc_hanh_trinh_page1.jpg',
//             'images/naruto_cuoc_hanh_trinh_page2.jpg'
//         ],
//         author: 'Tống Mặc',
//         price: '62.300',
//         soluong: 10
//     },
//     {
//         productId: 16,
//         name: 'Nuôi Con Không Phải Là Cuộc Chiến 2 - E.A.S.Y - Nếp Sinh Hoạt Cho Bé Yêu (Tái Bản 2021)',
//         category: 'nuoidaycon',
//         description:
//             `Ở phần 2 của bộ sách này, nhóm tác giả mời đọc giả cùng tìm hiểu về khái niệm E.A.S.Y và lý do vì sao nó lại thành công đến vậy; cách áp dụng E.A.S.Y cho từng lứa tuổi; những lịch sinh hoạt mẫu và những khúc mắc trong áp dụng E.A.S.Y khi con trải qua các giai đoạn phát triển thể chất và tinh thần.

//         Chúng tôi cũng ghi nhận lại những trường hợp kinh điển và những kinh nghiệm quý báu của các bậc cha mẹ đi trước truyền lại hay những giải pháp tổ chức cuộc sống khoa học khi mẹ quay trở lại đi làm… Xuyên suốt cuốn sách này, với mong muốn nhấn mạnh đến tính chất duy nhất và đặc biệt của từng em bé, chúng tôi cũng không quên đưa ra những giải pháp đặc biệt để cha mẹ có thể tự thiết kế lịch sinh hoạt phù hợp với con và với điều kiện của từng gia đình.`,
//         images: [
//             'images/nuoi_con_khong_phai_la_cuoc_chien.jpg',
//             'images/lich_su_cach_mang_phap_page1.jpg',
//             'images/lich_su_cach_mang_phap_page2.jpg'
//         ],
//         author: 'Hachun Lyonnet, Hương Đỗ',
//         price: '103.200',
//         soluong: 10
//     },
//     {
//         productId: 17,
//         name: '90% Trẻ Thông Minh Nhờ Cách Trò Chuyện Đúng Đắn Của Cha Mẹ (Tái Bản 2019)',
//         category: 'nuoidaycon',
//         description:
//             `Trong cuốn sách này, chúng tôi sẽ giới thiệu tới quý vị phụ huynh những câu nói “có phép lạ” khiến các con trở thành những đứa trẻ “tự có ý thức” mà cha mẹ không cần cằn nhằn nhiều. Hơn nữa, đây hoàn toàn là những câu chúng ta có thể áp dụng ngay từ ngày hôm nay như “Mẹ luôn đứng về phía con!”, “Mẹ con mình cùng làm nhé!”…

//         Về bản chất, mỗi đứa trẻ đều mang trong mình một “sức mạnh” tuyệt vời. Nhưng trước hết, chúng ta phải tin tưởng vào sức mạnh ấy đã! Khi được tin cậy, “sức mạnh” bên trong trẻ sẽ được nuôi dưỡng một cách tự nhiên.
        
//         Cuốn sách này sẽ giới thiệu cách trò chuyện giúp khai phá sức mạnh ấy từ nhiều góc độ. Chắc chắn không chỉ các con mà ngay cả chính các bậc phụ huynh cũng sẽ thay đổi. Cuộc sống sẽ lại một lần nữa trở nên thật tuyệt vời.`,
//         images: [
//             'images/ttmnctcddccm.jpg',
//             'images/lich_su_cach_mang_phap_page1.jpg',
//             'images/lich_su_cach_mang_phap_page2.jpg'
//         ],
//         author: 'Urako Kanamori',
//         price: '35.100',
//         soluong: 10
//     },
//     {
//         productId: 18,
//         name: 'Hiểu Biết Của Mẹ, Sức Khỏe Của Con',
//         category: 'nuoidaycon',
//         description:
//             `Trong cuốn sách này, tác giả sẽ chỉ dẫn cách dùng thuốc chính xác nhất. Từ đó giúp các bậc phụ huynh tự tin hơn trong việc phòng ngừa, chăm sóc và điều trị những bệnh thường gặp ở con trẻ. Cuốn sách bao gồm:

//         *Lựa chọn kháng sinh
        
//         *Thuốc thường dùng để điều trị viêm mũi dị ứng
        
//         * Điều trị và dùng thuốc đối với viêm thanh quản cấp tính
        
//         *Làm thế nào để phòng tránh rủi ro khi truyền dịch
        
//         *Những vấn đề liên quan đến Vitamin D
        
//         *10 điều cần lưu ý cho trẻ dùng thuốc an toàn.`,
//         images: [
//             'images/hieu-biet-cua-me-suc-khoe-cua-con.jpg',
//             'images/lich_su_cach_mang_phap_page1.jpg',
//             'images/lich_su_cach_mang_phap_page2.jpg'
//         ],
//         author: 'Ký Liên Mai',
//         price: '126.650',
//         soluong: 10
//     },
//     {
//         productId: 19,
//         name: '100 Kỹ Năng Sinh Tồn',
//         category: 'thieunhi',
//         description:
//             `Rõ ràng, chi tiết và được trình bày dễ hiểu, cuốn sách này phác thảo chi tiết nhiều chiến lược giúp bảo vệ bạn và những người bạn yêu thương, dạy bạn cách suy nghĩ và hành động như một thành viên của lực lượng quân đội tinh nhuệ Hoa Kỳ. 100 kỹ năng sinh tồn thực sự là cuốn cẩm nang vô giá. Bởi lẽ, khi nguy hiểm xảy ra, bạn chẳng có nhiều thời gian cho những chỉ dẫn phức tạp đâu.`,
//         images: [
//             'images/100-cach-sinh-ton.jpg',
//             'images/lich_su_cach_mang_phap_page1.jpg',
//             'images/lich_su_cach_mang_phap_page2.jpg'
//         ],
//         author: 'Clint Emerson',
//         price: '69.300',
//         soluong: 10
//     },
//     {
//         productId: 20,
//         name: `Hoàng Tử Bé (Song Ngữ Việt-Anh)`,
//         category: 'thieunhi',
//         description:
//             `Câu chuyện ngắn gọn về cuộc gặp gỡ diệu kỳ giữa viên phi công bị rơi máy bay và Hoàng tử bé giữa sa mạc Sa-ha-ra hoang vu. Hành tinh quê hương và các mối quan hệ của hoàng tử bé dần hé lộ: Tình bạn, tình yêu thương của Hoàng tử bé dành cho bông hồng duy nhất, tình cảm sâu sắc dành cho chú cáo.
        
//         Không những vậy, thông qua các cuộc gặp gỡ trong chuyến du ngoạn tới các hành tinh khác nhau của hoàng tử bé cũng chứa đựng triết lý nhân sinh sâu sắc về các kiểu người trong xã hội hiện đại.`,
//         images: [
//             'images/hoang-tu-be.jpg',
//             'images/lich_su_cach_mang_phap_page1.jpg',
//             'images/lich_su_cach_mang_phap_page2.jpg'
//         ],
//         author: 'Antoine de Saint-Exupéry',
//         price: '55.300',
//         soluong: 10
//     },
//     {
//         productId: 21,
//         name: '10 Vạn Câu Hỏi Vì Sao - Các Hiện Tượng Tự Nhiên Kỳ Thú (Tái Bản 2018)',
//         category: 'thieunhi',
//         description:
//             `Bộ sách “Mười Vạn Câu Hỏi Vì Sao” được các tác giả sưu tầm và biên tập từ rất nhiều câu hỏi “Tại sao”, "Vì sao" của trẻ. Qua quá trình chọn lọc cẩn thận, chu đáo, các tác giả đã tổng kết được những nội dung hết sức hấp dẫn, mới mẻ và khoa học.`,
//         images: [
//             'images/10-van-cau-hoi-vi-sao.jpg',
//             'images/lich_su_cach_mang_phap_page1.jpg',
//             'images/lich_su_cach_mang_phap_page2.jpg'
//         ],
//         author: 'Tôn Nguyên Vĩ',
//         price: '39.600',
//         soluong: 10
//     },
//     {
//         productId: 22,
//         name: 'Không Được Chạm Vào Vùng Riêng Tư Của Tớ',
//         category: 'thieunhi',
//         description:
//             `Trong xã hội ngày nay, việc trang bị cho trẻ em những kiến thức an toàn để tự bảo vệ bản thân là điều hết sức cần thiết. Thấu hiểu điều này, bộ sách Giáo dục đầu đời cho trẻ - Những bài học tự bảo vệ bản thân đã ra đời nhằm giúp các em nhận thức rõ về cơ thể mình, bồi dưỡng những quan niệm đúng đắn về giới tính, đồng thời nắm được những nguy cơ tiềm tàng trong cuộc sống, tránh xa mọi hiểm nguy.`,
//         images: [
//             'images/khong-duoc-cham-vao-vung-rieng-tu-cua-to.jpg',
//             'images/lich_su_cach_mang_phap_page1.jpg',
//             'images/lich_su_cach_mang_phap_page2.jpg'
//         ],
//         author: 'Hồ Tâm',
//         price: '29.400',
//         soluong: 10
//     },
//     {
//         productId: 23,
//         name: 'Homo Deus - Lược Sử Tương Lai',
//         category: 'lichsu',
//         description:
//             `Với giọng kể cuốn hút và mới lạ, Harari sẽ dần gợi mở và trả lời những câu hỏi trê, nhờ phân tích chi tiết những luận điểm gây nhiều tranh cãi: chủ nghĩa nhân đạo là một dạng tôn giáo, thứ tôn giáo tôn thờ con người thay vì thần thánh; sinh vật là thuật toán… ông vẽ ra một viễn cảnh tương lai khi Sapiens thất thế và Dữ liệu giáo trở thành một hình mẫu. HOMO DEUS còn bàn sâu hơn về các năng lực mà con người đã tự trang bị để sinh tồn và tiến hoá thành một giống loài ngự trị trên trái đất, để rồi chính trong tiến trình hoàn thiện và nâng cấp các năng lực ấy chúng ta sẽ bị truất quyền kiểm soát bởi một sinh vật mới, mang tên Homo Deus.`,
//         images: [
//             'images/homo-deus.jpg',
//             'images/lich_su_cach_mang_phap_page1.jpg',
//             'images/lich_su_cach_mang_phap_page2.jpg'
//         ],
//         author: 'Yuval Noah Harari',
//         price: '151.200',
//         soluong: 10
//     },
//     {
//         productId: 24,
//         name: 'Theo Dấu Chân Bác Hồ',
//         category: 'lichsu',
//         description:
//             `Cuốn sách “Theo dấu chân Bác Hồ” tuyển chọn một số bài viết của Tiến sĩ Phan Văn Hoàng về Chủ tịch Hồ Chí Minh. Bằng nguồn tài liệu phong phú từ nhiều phía, bằng lập luận khoa học rõ ràng, chắc chắn, ông đã phản bác một cách thuyết phục luận điểm của Tiến sĩ Lê Hữu Mục cho rằng “Nhật ký trong tù” không phải tác phẩm của Hồ Chủ tịch; góp phần làm rõ vì sao trong những năm 1942 – 1944, Bác đã “thành công trong việc thay đổi địa vị của mình từ một người tù trở thành một đồng minh” và được trả tự do. Những bài viết trong cuốn sách cũng góp phần phác họa chân dung của Hồ Chủ tịch – một lãnh tụ cách mạng luôn lấy “độc lập cho Tổ quốc tôi, tự do cho đồng bào tôi” là mục đích tối thượng; luôn mang trong mình lòng tự hào, tự tôn dân tộc; khiến những người ở bên kia chiến tuyến nể phục và kính trọng. Cuốn sách cũng giúp bạn đọc hiểu rõ hơn về nơi Bác Hồ đã xuống tàu để ra đi tìm đường cứu nước; về những mốc thời gian mà Sài Gòn – Gia Định mang tên lãnh tụ Hồ Chí Minh…`,
//         images: [
//             'images/theo-dau-chan-bac-ho.jpg',
//             'images/lich_su_cach_mang_phap_page1.jpg',
//             'images/lich_su_cach_mang_phap_page2.jpg'
//         ],
//         author: 'TS Phan Văn Hoàng',
//         price: '55.250',
//         soluong: 10
//     },
//     {
//         productId: 25,
//         name: 'Lịch Sử Việt Nam Bằng Tranh - Nguyễn Trãi (Bản Màu) (Tái Bản 2023)',
//         category: 'lichsu',
//         description:
//             `Bộ sách Lịch sử Việt Nam bằng tranh kể chuyện lịch sử Việt Nam bằng một phong cách ngắn gọn, hấp dẫn và có hệ thống qua những câu chuyện và những bức tranh đẹp. Phiên bản mới này được tô màu rất công phu. Sách được chăm chút khâu thiết kế, với ruột và bìa đẹp, vừa hiện đại vừa đậm bản sắc Việt.`,
//         images: [
//             'images/nguyentrai.jpg',
//             'images/lich_su_cach_mang_phap_page1.jpg',
//             'images/lich_su_cach_mang_phap_page2.jpg'
//         ],
//         author: 'Trần Bạch Đằng, Lê Văn Năm, Nguyễn Huy Khôi, Nguyễn Thùy Linh',
//         price: '55.250',
//         soluong: 10
//     },
//     {
//         productId: 26,
//         name: 'Lịch Sử Việt Nam Bằng Tranh: Nước Âu Lạc - Bìa Cứng',
//         category: 'lichsu',
//         description:
//             `Hùng Vương thứ 18 mải mê tửu sắc, chẳng màng việc nước đã làm cho Văn Lang hùng mạnh năm nào bước vào suy vong. An Dương Vương lên ngôi, hòa hợp hai bộ tộc Lạc Việt và Âu Việt, lập nên nước Âu Lạc.`,
//         images: [
//             'images/nuoc-au-lac.jpg',
//             'images/lich_su_cach_mang_phap_page1.jpg',
//             'images/lich_su_cach_mang_phap_page2.jpg'
//         ],
//         author: 'Nguyễn Trung Tín, TRẦN YÊN THẾ (NGUYỄN ĐỨC HÒA), Tôn Nữ Quỳnh Trân, NGUYỄN THÙY LINH, Trần Bạch Đằng, Phan An',
//         price: '148.500',
//         soluong: 10
//     },
//     {
//         productId: 27,
//         name: 'Giáo Trình Xã Hội Học Đại Cương',
//         category: 'giaotrinh',
//         description:
//             `Trong chương trình đào tạo các ngành có trình độ đại học, học phần Xã hội học đại cương là học phần của khối kiến thức khoa học xã hội thuộc nội dung kiến thức giáo dục đại cương. Học phần này cung cấp cho người học những kiến thức cơ bản và có hệ thống về tri thức xã hội học, bao gồm: khái quát về khoa học xã hội học; phương pháp nghiên cứu xã hội học; một số chủ đề nghiên cứu của xã hội học như là: cơ cấu xã hội; hành động xã hội và tương tác xã hội; cá nhân và xã hội; bất bình đẳng và phân tầng xã hội; sự điều tiết của xã hội; chuyển biến xã hội,… `,
//         images: [
//             'images/xa-hoi-hoc.jpg',
//             'images/lich_su_cach_mang_phap_page1.jpg',
//             'images/lich_su_cach_mang_phap_page2.jpg'
//         ],
//         author: 'TS Trương Thị Hiền',
//         price: '76.500',
//         soluong: 10
//     },
//     {
//         productId: 28,
//         name: '500 Bài Tập Vật Lí Trung Học Cơ Sở',
//         category: 'giaotrinh',
//         description:
//             ``,
//         images: [
//             'images/500-bt-vat-li.jpg',
//             'images/lich_su_cach_mang_phap_page1.jpg',
//             'images/lich_su_cach_mang_phap_page2.jpg'
//         ],
//         author: 'ThS Phan Hoàng Văn',
//         price: '123.250',
//         soluong: 10
//     },
//     {
//         productId: 29,
//         name: 'Giáo Trình Chuẩn HSK 1 (Tái Bản 2022)',
//         category: 'ngoaingu',
//         description:
//             `Kết hợp thi cử và giảng dạy: Được biên soạn phù hợp với nội dung, hình thức cũng như các cấp độ của đề thi HSK thật, bộ sách này có thể được sử dụng đồng thời cho cả hai mục đích là giảng dạy tiếng Trung Quốc và luyện thi HSK. • Bố cục chặt chẽ và khoa học: Các điểm ngữ pháp được giải thích cặn kẽ, phần ngữ âm và chữ Hán được trình bày từ đơn giản đến phức tạp theo từng cấp độ.

//         Đề tài quen thuộc, nhiều tình huống thực tế: Bài học được thiết kế không quá dài và đề cập đến nhiều tình huống (có file MP3 kèm theo), giúp bạn rèn luyện các kỹ năng ngôn ngữ và tránh cảm giác căng thẳng trong lúc học. • Cách viết thú vị: Bằng cách viết sinh động kèm nhiều hình ảnh minh họa, tác giả bộ sách chỉ cho bạn thấy học tiếng Trung Quốc không hề khô khan, nhàm chán.`,
//         images: [
//             'images/hsk1.jpg',
//             'images/lich_su_cach_mang_phap_page1.jpg',
//             'images/lich_su_cach_mang_phap_page2.jpg'
//         ],
//         author: 'Khương lệ Bình',
//         price: '148.500',
//         soluong: 10
//     },
//     {
//         productId: 30,
//         name: 'Giải Thích Ngữ Pháp Tiếng Anh (Tái Bản 2022)',
//         category: 'ngoaingu',
//         description:
//             `Ngữ pháp Tiếng Anh tổng hợp các chủ điểm ngữ pháp trọng yếu mà học sinh cần nắm vững. Các chủ điểm ngữ pháp được trình bày rõ ràng, chi tiết. Sau mỗi chủ điểm ngữ pháp là phần bài tập & đáp án nhằm giúp các em củng cố kiến thức đã học, đồng thời tự kiểm tra kết quả.`,
//         images: [
//             'images/giai-thich-ngu-phap-tieng-anh.jpg',
//             'images/lich_su_cach_mang_phap_page1.jpg',
//             'images/lich_su_cach_mang_phap_page2.jpg'
//         ],
//         author: 'Mai Lan Hương, Hà Thanh Uyên',
//         price: '154.000',
//         soluong: 10
//     },
//     {
//         productId: 31,
//         name: 'Tự Học 2000 Từ Vựng Tiếng Anh Theo Chủ Đề (Tái Bản)',
//         category: 'ngoaingu',
//         description:
//             `Các bạn đang băn khoăn chưa biết nên học từ vựng như thế nào để có thể ghi nhớ được nhiều từ và lâu nhất. Dưới đây là những phương pháp học mà các bạn có thể áp dụng để học từ vựng hiệu quả nhất.
//         1. Học từ vựng theo chủ đề
//         2. Sử dụng hình ảnh, âm thanh hay câu chuyện để ghi nhớ từ vựng nhanh
//         3. Học từ vựng qua bài hát, phim ảnh
//         4. Luôn có một cuốn sổ tay ghi từ mới
//         5. Tập sử dụng các từ mới và ôn tập thường xuyên`,
//         images: [
//             'images/tu-hoc-2000-tu-vung-tieng-anh.jpg',
//             'images/lich_su_cach_mang_phap_page1.jpg',
//             'images/lich_su_cach_mang_phap_page2.jpg'
//         ],
//         author: 'The Windy',
//         price: '43.550',
//         soluong: 10
//     },
//     {
//         productId: 32,
//         name: 'Cambridge IELTS 18 Academic - With Answer + Audio',
//         category: 'ngoaingu',
//         description:
//             `Bộ sách IELTS được thiết kế chuẩn theo cấu trúc bài thi thực tế, sử dụng được cho cả hai hình thức thi là IELTS General và Academic

//         Cấu trúc của mỗi quyển sách có chứa 4 bài test cơ bản theo chuẩn format đề thật, và độ khó tăng dần theo từng cấp độ.
        
//         Vào mỗi phần cuối của sách có đáp án chi tiết, kèm theo đó là audio scrips của từng đề, giúp cho người học có thể kiểm tra lại đáp án của mình sau khi làm bài test.
        
//         Là cuốn sách tất cả trong 1, giúp bạn học đầy đủ 4 kĩ năng: nghe - nói - đọc - viết.`,
//         images: [
//             'images/ielts.jpg',
//             'images/lich_su_cach_mang_phap_page1.jpg',
//             'images/lich_su_cach_mang_phap_page2.jpg'
//         ],
//         author: 'Nhiều Tác Giả',
//         price: '161.000',
//         soluong: 10
//     },


// ];
var productArray = JSON.parse(localStorage.getItem("productArray"));
    var btntest = document.querySelectorAll('.btn-buy-it');
    var product_price =  document.querySelectorAll('.product_price')
    var product_name =  document.querySelectorAll('.product_name')
    var product_img = document.querySelectorAll('.product_img')

function createProductBox(productData) {
    const productBox = document.createElement('div');
    productBox.classList.add('box');

    const productImage = document.createElement('img');
    productImage.classList.add('product_img')
    //console.log(productImage);
    productImage.src = productData.images[0];
    productImage.alt = productData.name;
    productBox.appendChild(productImage);

    const productName = document.createElement('h2');
    productName.classList.add('product_name'); /// class ne
    productName.id = 'name1';
    productName.textContent = productData.name;
    productBox.appendChild(productName);

    const productPrice = document.createElement('div');
    productPrice.classList.add('product_price'); // class nef
   // console.log(productPrice)
    productPrice.textContent = `${productData.price} đ`;
    productBox.appendChild(productPrice);

    const buttonWrapper = document.createElement('div');
    const button = document.createElement('button');
    buttonWrapper.appendChild(button);
    productBox.appendChild(buttonWrapper);
    button.textContent = 'Buy Now';
    button.classList.add('btn-buy-it'); // dang test.
    return productBox;
}

// document.addEventListener('DOMContentLoaded', function () {
//     createProductBoxes(productArray);
// });
/*c2
window.onload = function() {
  createProductBoxes(productArray);
};
*/// pagination--------
function createProduct(array) {
    const itemsPerPage = 4; // Số lượng sản phẩm hiển thị trên mỗi trang
    let currentPage = 1;
    let currentProducts = array;

    const prevPageButton = document.getElementById('first-page');
    const nextPageButton = document.getElementById('last-page');
    // noi xuat hien nut
    const pageButtonsContainer = document.getElementById('page-buttons');

    function showProducts(page) {

        const container = document.querySelector('.list_box');
        container.innerHTML = '';
        const startIndex = (page - 1) * itemsPerPage;
        const endIndex = startIndex + itemsPerPage;

        for (let i = startIndex; i < endIndex && i < currentProducts.length; i++) {
            const product = currentProducts[i];
            const productBox = createProductBox(product);
            container.appendChild(productBox);
        }
        btntest = document.querySelectorAll('.btn-buy-it');
        product_price =  document.querySelectorAll('.product_price')
        product_name =  document.querySelectorAll('.product_name')
        product_img = document.querySelectorAll('.product_img')
        btntest.forEach((element,index)=>{
           element.addEventListener('click',()=>{
               let gia_cart = product_price[index].innerHTML
               let name_cart = product_name[index].innerHTML
               let img_cart = product_img[index].src
               addItemToCart(name_cart,gia_cart,img_cart )
               // Khi thêm sản phẩm vào giỏ hàng thì sẽ hiển thị modal
              // modal.style.display = "block";
               
               updatecart();
              
            })
            
               
       })
    }

    function updatePaginationButtons() {
        prevPageButton.disabled = currentPage === 1;
        nextPageButton.disabled = currentPage === Math.ceil(currentProducts.length / itemsPerPage);
    }

    function createPageButton(page) {
        const button = document.createElement('button');
        button.textContent = page;
        button.setAttribute('id', 'page-button');
        button.addEventListener('click', () => {
            currentPage = page;
            showProducts(currentPage);
            updatePaginationButtons();
            updatePageButtons();
        });
        return button;
    }

    function updatePageButtons() {
        pageButtonsContainer.innerHTML = '';
        if (Math.ceil(currentProducts.length / itemsPerPage) > 1) {
            const pageButton = createPageButton(currentPage);
            pageButtonsContainer.appendChild(pageButton);

            if (currentPage > 1) {
                const prevButton = createPageButton(currentPage - 1);
                pageButtonsContainer.insertBefore(prevButton, pageButton);
            }

            if (currentPage < Math.ceil(currentProducts.length / itemsPerPage)) {
                const nextButton = createPageButton(currentPage + 1);
                pageButtonsContainer.appendChild(nextButton);
            }
        }
    }

    prevPageButton.addEventListener('click', () => {
        if (currentPage > 1) {
            currentPage--;
            showProducts(currentPage);
            updatePaginationButtons();
            updatePageButtons();
        }
    });

    nextPageButton.addEventListener('click', () => {
        if (currentPage < Math.ceil(currentProducts.length / itemsPerPage)) {
            currentPage++;
            showProducts(currentPage);
            updatePaginationButtons();
            updatePageButtons();
        }
    });

    showProducts(currentPage);
    updatePaginationButtons();
    updatePageButtons();
}

document.addEventListener('DOMContentLoaded', function () {
    createProduct(productArray);

});
////
window.addEventListener('storage', function (event) {
  if (event.key === 'productArray') {
    productArray = JSON.parse(localStorage.getItem("productArray"));
    createProduct(productArray);
    console.log(productArray)
  }
});
////cap nhật lại array khi co thay doi
///-------------------searchBox--------------------------------

function searchProduct(searchId) {

    var searchBox = document.getElementById(searchId);

    var searchString = removeVietnameseDiacritics(searchBox.value.toLowerCase());
    var resultsList = [];
    for (var i = 0; i < productArray.length; i++) {
        var product = productArray[i];
        var productName = removeVietnameseDiacritics(product.name)
        if (productName.toLowerCase().indexOf(searchString) !== -1) {
            resultsList.push(product);
        }
    }
    alert(resultsList.length);
    if (resultsList.length == 0) {

        let resultsHTML = document.querySelector(".list_box");
        resultsHTML.innerHTML = '<h2>Không tồn tại sản phẩm</h2>';


    } else {
        //xoa cái cũ thêm cái mới
        const resultsHTML = document.querySelector(".list_box");
        resultsHTML.innerHTML = '';
        createProduct(resultsList);
    }
}
function searchOnEnter(event, searchId) {
    if (event.key === 'Enter') {
        searchProduct(searchId);
    }
}

function filterProduct(str) {

    //let condition=str.removeVietnameseDiacritics;
    var resultsList = [];
    for (var i = 0; i < productArray.length; i++) {
        var product = productArray[i];
        var productCategory = removeVietnameseDiacritics(product.category);
        if (productCategory.toLowerCase().indexOf(str) !== -1) {
            resultsList.push(product);
        }
    }

    if (resultsList.length == 0) {
        let resultsHTML = document.querySelector(".list_box");
        resultsHTML.innerHTML = '<h2>Chua co san pham</h2>';
    } else {
        const resultsHTML = document.querySelector(".list_box");
        resultsHTML.innerHTML = '';
        createProduct(resultsList);
    }

}

function removeVietnameseDiacritics(str) {
    str = str.toLowerCase();
    str = str.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ắ|ằ|ặ|ẳ|ẵ/g, 'a');
    str = str.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g, 'e');
    str = str.replace(/ì|í|ị|ỉ|ĩ/g, 'i');
    str = str.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ớ|ờ|ở|ỡ/g, 'o');
    str = str.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g, 'u');
    str = str.replace(/ỳ|ý|ỵ|ỷ|ỹ/g, 'y');
    str = str.replace(/đ/g, 'd');
    // Loại bỏ tất cả các ký tự không phải là chữ cái hoặc số
    str = str.replace(/[^a-zA-Z0-9\s]/g, '');
    // Loại bỏ dấu cách thừa và dấu cách ở đầu và cuối chuỗi
    str = str.trim().replace(/\s+/g, ' ');
    return str;
}


// xóa giỏ hàng
var remove_cart = document.getElementsByClassName("btn-danger");
for (var i = 0; i < remove_cart.length; i++) {
  var button = remove_cart[i];
  button.addEventListener("click", function (event) {
    var button_remove = event.target
    button_remove.parentElement.parentElement.remove();
    updatecart()
  })
}
// thay đổi số lượng
var quantity_input = document.getElementsByClassName("cart-quantity-input");
for (var i = 0; i < quantity_input.length; i++) {
  var input = quantity_input[i];
  input.addEventListener("change", function (event) {
    var input = event.target
    if (isNaN(input.value) || input.value <= 0) {
      input.value = 1;
    }
    updatecart()
  })
}
function addItemToCart(title, price, img) {
  var cartRow = document.createElement('div')
  cartRow.classList.add('cart-row')
  var cartItems = document.getElementsByClassName('cart-items')[0]
  var cart_title = cartItems.getElementsByClassName('cart-item-title')
  for (var i = 0; i < cart_title.length; i++) {
    if (cart_title[i].innerText == title) {
      alert('Sản Phẩm Đã Có Trong Giỏ Hàng')
      return
    }
  }

  var cartRowContents = `
  <div class="cart-item cart-column">
      <img class="cart-item-image" src="${img}" width="100" height="100">
      <span class="cart-item-title">${title}</span>
  </div>
  <span class="cart-price cart-column huhu">${price}</span>
  <div class="cart-quantity cart-column">
      <input class="cart-quantity-input" type="number" value="1">
      <button class="btn btn-danger" type="button">Xóa</button>
  </div>`

 
    cart_temp.name = title;  // fix gap
  cartRow.innerHTML = cartRowContents
  cartItems.append(cartRow)
  cartRow.getElementsByClassName('btn-danger')[0].addEventListener('click', function () {
    var button_remove = event.target
    button_remove.parentElement.parentElement.remove()
    updatecart()
  })
  cartRow.getElementsByClassName('cart-quantity-input')[0].addEventListener('change', function (event) {
    var input = event.target
    if (isNaN(input.value) || input.value <= 0) {
      input.value = 1;
    }
    updatecart() // y tuong la lay het du lieu xong moiw push, push lan luot
  })
}
// update cart 
var cart_item = document.getElementsByClassName("cart-items")[0];

function updatecart() {
    cart_item = document.getElementsByClassName("cart-items")[0];
  var cart_rows = cart_item.getElementsByClassName("cart-row");
  var total = 0;
  for (var i = 0; i < cart_rows.length; i++) {
    var cart_row = cart_rows[i]
    var price_item = cart_row.getElementsByClassName("cart-price ")[0]
    var quantity_item = cart_row.getElementsByClassName("cart-quantity-input")[0]
    var price = parseFloat(price_item.innerText)
    var quantity = quantity_item.value
    cart_temp.cash = price; 
      total = total + (price * quantity)
  }
  document.getElementsByClassName("cart-total-price")[0].innerText = total + 'VNĐ'
  
  for(let i=0;i<navigator;i++){
     cart_item[i].addEventListener('click',()=>{
    console.log(i);
    })
  }
 
}
/// status text
var statusText = document.querySelector('.status-text');
// Lắng nghe sự kiện "storage"
window.addEventListener('storage', function(event) {
  if (event.key === 'cart') {
    getStatus = JSON.parse(localStorage.getItem("cart"))
    if( getStatus[0].status == 1 ){
              statusText.innerText = "Đã xác nhận";
          }
          else if (getStatus[0].status == 0){
              statusText.innerText = "Chưa xác nhận";
          }
          else{
              statusText.innerText = "Chưa xác nhận";
          }
  }
});
// setInterval(()=>{
//     let getStatus = JSON.parse(localStorage.getItem("cart"))
//     statusText = document.querySelector('.status-text');
//     if( getStatus[0].status == 1 ){
//         statusText.innerText = "Đã xác nhận";
//     }
//     else if (getStatus[0].status == 0){
//         statusText.innerText = "Chưa xác nhận";
//     }
//     else{
//         statusText.innerText = "Chưa xác nhận";
//     }
//         // let getStatus = JSON.parse(localStorage.getItem("cart"))

// },3000)

//
// 
// Modal

  var modal = document.getElementById("myModal");
  var btn = document.getElementById("cart");
  var close = document.getElementsByClassName("close")[0];
  var close_footer = document.getElementsByClassName("close-footer")[0];
  var order = document.getElementsByClassName("order")[0];
  btn.onclick = function () {
    modal.style.display = "block";
  }
  close.onclick = function () {
    modal.style.display = "none";
  }
  close_footer.onclick = function () {
      cart_item.innerHTML=""
      statusText.innerText = "Chưa xác nhận";
      document.getElementsByClassName("cart-total-price")[0].innerText = 0 + 'VNĐ'
      localStorage.setItem('cart',"")
    modal.style.display = "none";
  }
  var cart = [];
  var cart_temp={};
  order.onclick = function () {
      let cart_item_title = document.querySelectorAll('.cart-item-title'); /// name
      let cart_price = document.querySelectorAll('.cart-price.cart-column.huhu'); // gia
      let cart_quantity_input =  document.querySelectorAll('.cart-quantity-input') /// so luong
      for(let i=0;i<cart_item_title.length;i++ ){
          const cart_temp={};
          cart_temp.name = cart_item_title[i].innerHTML;
          cart_temp.cash = parseFloat(cart_price[i].innerHTML);
          cart_temp.quantity = parseInt(cart_quantity_input[i].value);
          cart_temp.total = cart_temp.cash * cart_temp.quantity;
          cart_temp.status = -1;
          cart[i] = cart_temp;
      }
      localStorage.setItem("cart",JSON.stringify(cart)) //// cay vai~
  
      alert("Đã thanh toán thành công");
  }
  window.onclick = function (event) {
    if (event.target == modal) {
      modal.style.display = "none";
    }
  }
  //
  // menu mobile
  // var btn_menu = document.getElementById("btnmenu");
  // btn_menu.addEventListener("click", function () {
  //   var item_menu = document.getElementById("menutop");
  //   if (item_menu.style.display === "block") {
  //     item_menu.style.display = "none";
  //   } else {
  //     item_menu.style.display = "block";
  //   }
  // })
  
  
  



